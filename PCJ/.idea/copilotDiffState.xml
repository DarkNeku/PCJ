<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/SCRIPT/EQUIPO.gd">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SCRIPT/EQUIPO.gd" />
              <option name="originalContent" value="extends Node2D&#10;&#10;# Referencia al GridContainer donde se mostrarán las tarjetas&#10;@onready var grid_container = $Panel/GridContainer&#10;&#10;func _ready():&#10;&#9;mostrar_bulbasaur()&#10;&#10;func mostrar_bulbasaur():&#10;&#9;# Instanciar la tarjeta de Pokémon&#10;&#9;var tarjeta_escena = load(&quot;res://SCENE/PokemonCard.tscn&quot;)&#10;&#9;var tarjeta = tarjeta_escena.instantiate()&#10;&#9;# Agregar la tarjeta al GridContainer&#10;&#9;grid_container.add_child(tarjeta)&#10;&#9;# Configurar la tarjeta usando call_deferred para asegurar que los nodos hijos estén listos&#10;&#9;tarjeta.call_deferred(&quot;configurar&quot;, &quot;res://ASSET/POKEMON/1.0. Bulbasaur.png&quot;, 20, 20, 0, 100)&#10;&#10;&#10;" />
              <option name="updatedContent" value="extends Node2D&#10;&#10;# Referencia al GridContainer donde se mostrarán las tarjetas&#10;@onready var grid_container = $Panel/GridContainer&#10;@onready var popup_captura = $PopupCaptura&#10;@onready var busqueda = $PopupCaptura/VBoxContainer/Busqueda&#10;@onready var grid_pokemon = $PopupCaptura/VBoxContainer/GridPokemon&#10;@onready var boton_captura = $Panel/HBoxContainer/CAPTURA&#10;&#10;# Lista de los 150 Pokémon (ejemplo, deberías cargar desde un JSON)&#10;var lista_pokemon = []&#10;&#10;func _ready():&#10;&#9;mostrar_equipo()&#10;&#9;boton_captura.pressed.connect(_on_boton_captura_pressed)&#10;&#9;cargar_lista_pokemon()&#10;&#10;func mostrar_equipo():&#10;&#9;var pokemones = [&#10;&#9;&#9;{&quot;img&quot;: &quot;res://ASSET/POKEMON/1.0. Bulbasaur.png&quot;, &quot;ps&quot;: 20, &quot;ps_max&quot;: 20, &quot;exp&quot;: 0, &quot;exp_max&quot;: 100},&#10;&#9;&#9;{&quot;img&quot;: &quot;res://ASSET/POKEMON/25.0. Pikachu Inicial (fase 2).png&quot;, &quot;ps&quot;: 22, &quot;ps_max&quot;: 22, &quot;exp&quot;: 10, &quot;exp_max&quot;: 100},&#10;&#9;&#9;{&quot;img&quot;: &quot;res://ASSET/POKEMON/133.0. Eevee Inicial (Fase 2).png&quot;, &quot;ps&quot;: 18, &quot;ps_max&quot;: 18, &quot;exp&quot;: 20, &quot;exp_max&quot;: 100},&#10;&#9;&#9;{&quot;img&quot;: &quot;res://ASSET/POKEMON/134.0. Vaporeon Inicial (Fase 3).png&quot;, &quot;ps&quot;: 30, &quot;ps_max&quot;: 30, &quot;exp&quot;: 50, &quot;exp_max&quot;: 100},&#10;&#9;&#9;{&quot;img&quot;: &quot;res://ASSET/POKEMON/135.0. Jolteon Inicial (Fase 3).png&quot;, &quot;ps&quot;: 28, &quot;ps_max&quot;: 28, &quot;exp&quot;: 70, &quot;exp_max&quot;: 100},&#10;&#9;&#9;{&quot;img&quot;: &quot;res://ASSET/POKEMON/136.0. Flareon Inicial (Fase 3).png&quot;, &quot;ps&quot;: 26, &quot;ps_max&quot;: 26, &quot;exp&quot;: 90, &quot;exp_max&quot;: 100}&#10;&#9;]&#10;&#9;for poke in pokemones:&#10;&#9;&#9;# Instanciar la tarjeta de Pokémon&#10;&#9;&#9;var tarjeta_escena = load(&quot;res://SCENE/PokemonCard.tscn&quot;)&#10;&#9;&#9;var tarjeta = tarjeta_escena.instantiate()&#10;&#9;&#9;# Agregar la tarjeta al GridContainer&#10;&#9;&#9;grid_container.add_child(tarjeta)&#10;&#9;&#9;# Configurar la tarjeta usando call_deferred para asegurar que los nodos hijos estén listos&#10;&#9;&#9;tarjeta.call_deferred(&quot;configurar&quot;, poke[&quot;img&quot;], poke[&quot;ps&quot;], poke[&quot;ps_max&quot;], poke[&quot;exp&quot;], poke[&quot;exp_max&quot;])&#10;&#10;func _on_boton_captura_pressed():&#10;&#9;popup_captura.popup_centered()&#10;&#9;mostrar_pokemon_en_grilla(&quot;&quot;)&#10;&#10;func cargar_lista_pokemon():&#10;&#9;var file = FileAccess.open(&quot;res://SCRIPT/POKEMON_DB.json&quot;, FileAccess.READ)&#10;&#9;if file:&#10;&#9;&#9;var json_text = file.get_as_text()&#10;&#9;&#9;var data = JSON.parse_string(json_text)&#10;&#9;&#9;if typeof(data) == TYPE_ARRAY:&#10;&#9;&#9;&#9;lista_pokemon = data&#10;&#9;&#9;else:&#10;&#9;&#9;&#9;print(&quot;Error: El archivo JSON no tiene formato de lista.&quot;)&#10;&#9;else:&#10;&#9;&#9;print(&quot;No se pudo abrir el archivo de datos de Pokémon.&quot;)&#10;&#10;func mostrar_pokemon_en_grilla(filtro):&#10;&#9;grid_pokemon.clear()&#10;&#9;for poke in lista_pokemon:&#10;&#9;&#9;if filtro == &quot;&quot; or poke[&quot;nombre&quot;].to_lower().find(filtro.to_lower()) != -1:&#10;&#9;&#9;&#9;var tarjeta = crear_tarjeta_pokemon(poke)&#10;&#9;&#9;&#9;grid_pokemon.add_child(tarjeta)&#10;&#10;func crear_tarjeta_pokemon(poke):&#10;&#9;var tarjeta = VBoxContainer.new()&#10;&#9;var imagen = TextureRect.new()&#10;&#9;if ResourceLoader.exists(poke[&quot;img&quot;]):&#10;&#9;&#9;imagen.texture = load(poke[&quot;img&quot;])&#10;&#9;&#9;if poke[&quot;capturado&quot;]:&#10;&#9;&#9;&#9;imagen.modulate = Color(0.5, 0.5, 0.5) # escala de grises&#10;&#9;else:&#10;&#9;&#9;imagen.texture = null&#10;&#9;tarjeta.add_child(imagen)&#10;&#9;var label = Label.new()&#10;&#9;label.text = poke[&quot;nombre&quot;]&#10;&#9;tarjeta.add_child(label)&#10;&#9;tarjeta.connect(&quot;gui_input&quot;, Callable(self, &quot;_on_tarjeta_pokemon_pressed&quot;).bind(poke))&#10;&#9;return tarjeta&#10;&#10;func _on_tarjeta_pokemon_pressed(event, poke):&#10;&#9;if event is InputEventMouseButton and event.pressed:&#10;&#9;&#9;mostrar_popup_detalle(poke)&#10;&#10;func mostrar_popup_detalle(poke):&#10;&#9;# Aquí deberías mostrar el Pokémon en grande y el botón de capturar&#10;&#9;# Puedes crear otro PopupPanel o reutilizar uno&#10;&#9;pass" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>