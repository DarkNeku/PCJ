<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/SCENE/PokemonCard.tscn">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SCENE/PokemonCard.tscn" />
              <option name="originalContent" value="[gd_scene load_steps=3 format=3 uid=&quot;uid://gaon7jhm72bd&quot;]&#10;&#10;[ext_resource type=&quot;Script&quot; uid=&quot;uid://wh5542ilov1q&quot; path=&quot;res://SCRIPT/PokemonCard.gd&quot; id=&quot;1_o5874&quot;]&#10;[ext_resource type=&quot;Texture2D&quot; uid=&quot;uid://cl3fteckfdw3o&quot; path=&quot;res://ASSET/SELLO.png&quot; id=&quot;2&quot;]&#10;&#10;[node name=&quot;PokemonCard&quot; type=&quot;VBoxContainer&quot;]&#10;custom_minimum_size = Vector2(240, 280)&#10;anchors_preset = 15&#10;anchor_right = 1.0&#10;anchor_bottom = 1.0&#10;grow_horizontal = 2&#10;grow_vertical = 2&#10;mouse_filter = 2&#10;&#10;[node name=&quot;ImagenContainer&quot; type=&quot;Control&quot; parent=&quot;.&quot;]&#10;custom_minimum_size = Vector2(355, 250)&#10;layout_mode = 2&#10;&#10;[node name=&quot;TextureRect&quot; type=&quot;TextureRect&quot; parent=&quot;ImagenContainer&quot;]&#10;custom_minimum_size = Vector2(355, 250)&#10;layout_mode = 0&#10;anchor_right = 1.0&#10;anchor_bottom = 1.0&#10;expand_mode = 1&#10;stretch_mode = 5&#10;&#10;[node name=&quot;SELLO&quot; type=&quot;TextureRect&quot; parent=&quot;ImagenContainer&quot;]&#10;modulate = Color(1, 1, 1, 0.6)&#10;layout_mode = 0&#10;anchor_right = 1.0&#10;anchor_bottom = 1.0&#10;offset_right = -20.0&#10;offset_bottom = 250.0&#10;size_flags_horizontal = 4&#10;texture = ExtResource(&quot;2&quot;)&#10;stretch_mode = 5&#10;&#10;[node name=&quot;BARRAS&quot; type=&quot;HBoxContainer&quot; parent=&quot;.&quot;]&#10;layout_mode = 2&#10;size_flags_horizontal = 4&#10;&#10;[node name=&quot;SALUD&quot; type=&quot;HBoxContainer&quot; parent=&quot;BARRAS&quot;]&#10;custom_minimum_size = Vector2(0, 30)&#10;layout_mode = 2&#10;size_flags_horizontal = 0&#10;&#10;[node name=&quot;PS&quot; type=&quot;Label&quot; parent=&quot;BARRAS/SALUD&quot;]&#10;custom_minimum_size = Vector2(20, 0)&#10;layout_mode = 2&#10;text = &quot;PS&quot;&#10;&#10;[node name=&quot;ProgressBar&quot; type=&quot;ProgressBar&quot; parent=&quot;BARRAS/SALUD&quot;]&#10;custom_minimum_size = Vector2(100, 25)&#10;layout_mode = 2&#10;value = 25.0&#10;show_percentage = false&#10;&#10;[node name=&quot;EXPERIENCIA&quot; type=&quot;HBoxContainer&quot; parent=&quot;BARRAS&quot;]&#10;custom_minimum_size = Vector2(0, 30)&#10;layout_mode = 2&#10;&#10;[node name=&quot;EXP&quot; type=&quot;Label&quot; parent=&quot;BARRAS/EXPERIENCIA&quot;]&#10;custom_minimum_size = Vector2(20, 0)&#10;layout_mode = 2&#10;text = &quot;EXP&quot;&#10;&#10;[node name=&quot;ProgressBar&quot; type=&quot;ProgressBar&quot; parent=&quot;BARRAS/EXPERIENCIA&quot;]&#10;custom_minimum_size = Vector2(100, 25)&#10;layout_mode = 2&#10;value = 50.0&#10;show_percentage = false&#10;" />
              <option name="updatedContent" value="[gd_scene load_steps=3 format=3 uid=&quot;uid://gaon7jhm72bd&quot;]&#10;&#10;[ext_resource type=&quot;Script&quot; uid=&quot;uid://wh5542ilov1q&quot; path=&quot;res://SCRIPT/PokemonCard.gd&quot; id=&quot;1_o5874&quot;]&#10;[ext_resource type=&quot;Texture2D&quot; uid=&quot;uid://cl3fteckfdw3o&quot; path=&quot;res://ASSET/SELLO.png&quot; id=&quot;2&quot;]&#10;&#10;[node name=&quot;PokemonCard&quot; type=&quot;VBoxContainer&quot;]&#10;custom_minimum_size = Vector2(240, 280)&#10;anchors_preset = 15&#10;anchor_right = 1.0&#10;anchor_bottom = 1.0&#10;grow_horizontal = 2&#10;grow_vertical = 2&#10;mouse_filter = 2&#10;script = ExtResource(&quot;1_o5874&quot;)&#10;&#10;[node name=&quot;ImagenContainer&quot; type=&quot;Control&quot; parent=&quot;.&quot;]&#10;custom_minimum_size = Vector2(355, 250)&#10;layout_mode = 2&#10;mouse_filter = 1&#10;&#10;[node name=&quot;TextureRect&quot; type=&quot;TextureRect&quot; parent=&quot;ImagenContainer&quot;]&#10;custom_minimum_size = Vector2(355, 250)&#10;layout_mode = 0&#10;anchor_right = 1.0&#10;anchor_bottom = 1.0&#10;expand_mode = 1&#10;stretch_mode = 5&#10;mouse_filter = 1&#10;&#10;[node name=&quot;SELLO&quot; type=&quot;TextureRect&quot; parent=&quot;ImagenContainer&quot;]&#10;modulate = Color(1, 1, 1, 0.6)&#10;layout_mode = 0&#10;anchor_right = 1.0&#10;offset_top = 20.0&#10;offset_right = -20.0&#10;scale = Vector2(0.5, 0.5)&#10;size_flags_horizontal = 4&#10;texture = ExtResource(&quot;2&quot;)&#10;stretch_mode = 5&#10;mouse_filter = 1&#10;&#10;[node name=&quot;BARRAS&quot; type=&quot;HBoxContainer&quot; parent=&quot;.&quot;]&#10;layout_mode = 2&#10;size_flags_horizontal = 4&#10;mouse_filter = 1&#10;&#10;[node name=&quot;SALUD&quot; type=&quot;HBoxContainer&quot; parent=&quot;BARRAS&quot;]&#10;custom_minimum_size = Vector2(0, 30)&#10;layout_mode = 2&#10;size_flags_horizontal = 0&#10;mouse_filter = 1&#10;&#10;[node name=&quot;PS&quot; type=&quot;Label&quot; parent=&quot;BARRAS/SALUD&quot;]&#10;custom_minimum_size = Vector2(20, 0)&#10;layout_mode = 2&#10;text = &quot;PS&quot;&#10;mouse_filter = 1&#10;&#10;[node name=&quot;ProgressBar&quot; type=&quot;ProgressBar&quot; parent=&quot;BARRAS/SALUD&quot;]&#10;custom_minimum_size = Vector2(100, 25)&#10;layout_mode = 2&#10;value = 25.0&#10;show_percentage = false&#10;mouse_filter = 1&#10;&#10;[node name=&quot;EXPERIENCIA&quot; type=&quot;HBoxContainer&quot; parent=&quot;BARRAS&quot;]&#10;custom_minimum_size = Vector2(0, 30)&#10;layout_mode = 2&#10;mouse_filter = 1&#10;&#10;[node name=&quot;EXP&quot; type=&quot;Label&quot; parent=&quot;BARRAS/EXPERIENCIA&quot;]&#10;custom_minimum_size = Vector2(20, 0)&#10;layout_mode = 2&#10;text = &quot;EXP&quot;&#10;mouse_filter = 1&#10;&#10;[node name=&quot;ProgressBar&quot; type=&quot;ProgressBar&quot; parent=&quot;BARRAS/EXPERIENCIA&quot;]&#10;custom_minimum_size = Vector2(100, 25)&#10;layout_mode = 2&#10;value = 50.0&#10;show_percentage = false&#10;mouse_filter = 1" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SCRIPT/PANELES.gd">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SCRIPT/PANELES.gd" />
              <option name="originalContent" value="extends Node2D&#10;&#10;&#10;&#9;btn_captura.pressed.connect(func(): mostrar_seccion(&quot;captura&quot;))&#10;&#9;dialogo_confirmacion = $CONFIRMACION&#10;&#9;if barra_busqueda:&#10;&#9;&#9;barra_busqueda.text_changed.connect(_on_busqueda_text_changed)&#10;&#10;func mostrar_seccion(seccion):&#10;&#9;panel_equipo.visible = (seccion == &quot;equipo&quot;)&#10;&#9;panel_pc.visible = (seccion == &quot;pc&quot;)&#10;&#9;panel_captura.visible = (seccion == &quot;captura&quot;)&#10;&#9;# Para que el panel visible se muestre arriba, lo movemos al inicio del VBoxContainer&#10;&#9;if seccion == &quot;equipo&quot;:&#10;&#9;&#9;move_child(panel_equipo, 0)&#10;&#9;elif seccion == &quot;pc&quot;:&#10;&#9;&#9;mostrar_tarjetas_captura()&#10;&#10;func _on_busqueda_text_changed(nuevo_texto):&#10;&#9;filtro_busqueda = nuevo_texto&#10;&#9;mostrar_tarjetas_captura()&#10;&#10;func mostrar_tarjetas_captura():&#10;&#9;# Eliminar todos los hijos del GridContainer manualmente&#10;&#9;for child in grid_captura.get_children():&#10;&#9;&#9;child.queue_free()&#10;&#9;# Configurar columnas del GridContainer (por si acaso)&#10;&#9;if grid_captura.has_method(&quot;set_columns&quot;):&#10;&#9;&#9;grid_captura.set_columns(2)&#10;&#9;# Leer el JSON de la base de datos de Pokémon&#10;&#9;var pokedex_json = FileAccess.open(&quot;res://SCRIPT/POKEMON_DB.json&quot;, FileAccess.READ)&#10;&#9;if pokedex_json:&#10;&#9;&#9;var data = pokedex_json.get_as_text()&#10;&#9;&#9;var pokemons = []&#10;&#9;var pokedex_path = &quot;res://ASSET/POKEDEX/&quot;&#10;&#9;var dir = DirAccess.open(pokedex_path)&#10;&#9;var archivos = []&#10;&#9;if dir:&#10;&#9;&#9;dir.list_dir_begin()&#10;&#9;&#9;var file_name = dir.get_next()&#10;&#10;&#10;&#10;&#10;@onready var grid_captura = $PanelCaptura/ScrollContainer/GridContainer&#10;&#9;mostrar_seccion(&quot;equipo&quot;)&#10;&#9;btn_pc.pressed.connect(func(): mostrar_seccion(&quot;pc&quot;))&#10;&#9;panel_captura.visible = (seccion == &quot;captura&quot;)&#10;&#9;&#9;move_child(panel_pc, 0)&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="extends VBoxContainer&#10;&#10;# Referencias a los paneles y barra de navegación&#10;@onready var panel_equipo = $PanelEquipo&#10;@onready var panel_pc = $PanelPC&#10;@onready var panel_captura = $PanelCaptura&#10;@onready var barra_navegacion = $BarraNavegacion&#10;@onready var btn_equipo = $BarraNavegacion/BtnEquipo&#10;@onready var btn_pc = $BarraNavegacion/BtnPC&#10;@onready var btn_captura = $BarraNavegacion/BtnCaptura&#10;@onready var scroll_captura = $PanelCaptura/ScrollContainer&#10;@onready var grid_captura = $PanelCaptura/ScrollContainer/GridContainer&#10;@onready var confirmacion = $CONFIRMACION&#10;@onready var barra_busqueda = $PanelCaptura/BarraBusqueda&#10;@onready var grid_pc = $PanelPC/GridContainer&#10;&#10;var dialogo_confirmacion&#10;var nombre_pokemon_seleccionado = &quot;&quot;&#10;var id_pokemon_seleccionado = &quot;&quot;&#10;var filtro_busqueda = &quot;&quot;&#10;var pokemons_db = []&#10;&#10;func _ready():&#10;&#9;mostrar_seccion(&quot;equipo&quot;)&#10;&#9;btn_equipo.pressed.connect(func(): mostrar_seccion(&quot;equipo&quot;))&#10;&#9;btn_pc.pressed.connect(func(): mostrar_seccion(&quot;pc&quot;))&#10;&#9;btn_captura.pressed.connect(func(): mostrar_seccion(&quot;captura&quot;))&#10;&#9;dialogo_confirmacion = $CONFIRMACION&#10;&#9;if barra_busqueda:&#10;&#9;&#9;barra_busqueda.text_changed.connect(_on_busqueda_text_changed)&#10;&#10;func mostrar_seccion(seccion):&#10;&#9;panel_equipo.visible = (seccion == &quot;equipo&quot;)&#10;&#9;panel_pc.visible = (seccion == &quot;pc&quot;)&#10;&#9;panel_captura.visible = (seccion == &quot;captura&quot;)&#10;&#9;# Para que el panel visible se muestre arriba, lo movemos al inicio del VBoxContainer&#10;&#9;if seccion == &quot;equipo&quot;:&#10;&#9;&#9;move_child(panel_equipo, 0)&#10;&#9;elif seccion == &quot;pc&quot;:&#10;&#9;&#9;move_child(panel_pc, 0)&#10;&#9;&#9;mostrar_tarjetas_pc()&#10;&#9;elif seccion == &quot;captura&quot;:&#10;&#9;&#9;move_child(panel_captura, 0)&#10;&#9;&#9;mostrar_tarjetas_captura()&#10;&#10;func _on_busqueda_text_changed(nuevo_texto):&#10;&#9;filtro_busqueda = nuevo_texto&#10;&#9;mostrar_tarjetas_captura()&#10;&#10;func mostrar_tarjetas_captura():&#10;&#9;# Eliminar todos los hijos del GridContainer manualmente&#10;&#9;for child in grid_captura.get_children():&#10;&#9;&#9;child.queue_free()&#10;&#9;# Configurar columnas del GridContainer (por si acaso)&#10;&#9;if grid_captura.has_method(&quot;set_columns&quot;):&#10;&#9;&#9;grid_captura.set_columns(2)&#10;&#9;# Leer el JSON de la base de datos de Pokémon&#10;&#9;var pokedex_json = FileAccess.open(&quot;res://SCRIPT/POKEMON_DB.json&quot;, FileAccess.READ)&#10;&#9;if pokedex_json:&#10;&#9;&#9;var data = pokedex_json.get_as_text()&#10;&#9;&#9;pokemons_db = []&#10;&#9;&#9;if data:&#10;&#9;&#9;&#9;pokemons_db = JSON.parse_string(data)&#10;&#9;&#9;if typeof(pokemons_db) == TYPE_ARRAY:&#10;&#9;&#9;&#9;pokemons_db.sort_custom(func(a, b): return int(a[&quot;id&quot;]) &lt; int(b[&quot;id&quot;]))&#10;&#9;&#9;&#9;for poke in pokemons_db:&#10;&#9;&#9;&#9;&#9;if filtro_busqueda == &quot;&quot; or poke.get(&quot;nombre&quot;, &quot;&quot;).to_lower().find(filtro_busqueda.to_lower()) != -1:&#10;&#9;&#9;&#9;&#9;&#9;var tarjeta_escena = load(&quot;res://SCENE/PokemonCard.tscn&quot;)&#10;&#9;&#9;&#9;&#9;&#9;if tarjeta_escena:&#10;&#9;&#9;&#9;&#9;&#9;&#9;var tarjeta = tarjeta_escena.instantiate()&#10;&#9;&#9;&#9;&#9;&#9;&#9;var imagen_path = poke.get(&quot;img_link&quot;, &quot;&quot;)&#10;&#9;&#9;&#9;&#9;&#9;&#9;var ps = int(poke.get(&quot;ps_actual&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var ps_max = int(poke.get(&quot;ps_max&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var exp = int(poke.get(&quot;exp_actual&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var exp_max = int(poke.get(&quot;exp_evo&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var atrapado = int(poke.get(&quot;atrapado&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var id_poke = poke.get(&quot;id&quot;, &quot;&quot;)&#10;&#9;&#9;&#9;&#9;&#9;&#9;tarjeta.call_deferred(&quot;configurar&quot;, imagen_path, ps, ps_max, exp, exp_max, atrapado)&#10;&#9;&#9;&#9;&#9;&#9;&#9;tarjeta.connect(&quot;tarjeta_presionada&quot;, Callable(self, &quot;mostrar_confirmacion&quot;).bind(id_poke, poke.get(&quot;nombre&quot;, &quot;&quot;)))&#10;&#9;&#9;&#9;&#9;&#9;&#9;grid_captura.add_child(tarjeta)&#10;&#9;else:&#10;&#9;&#9;print(&quot;No se pudo abrir el archivo POKEMON_DB.json&quot;)&#10;&#10;func mostrar_tarjetas_pc():&#10;&#9;# Eliminar todos los hijos del GridContainer manualmente&#10;&#9;for child in grid_pc.get_children():&#10;&#9;&#9;child.queue_free()&#10;&#9;# Configurar columnas del GridContainer (por si acaso)&#10;&#9;if grid_pc.has_method(&quot;set_columns&quot;):&#10;&#9;&#9;grid_pc.set_columns(2)&#10;&#9;# Leer el JSON de la base de datos de Pokémon&#10;&#9;var pokedex_json = FileAccess.open(&quot;res://SCRIPT/POKEMON_DB.json&quot;, FileAccess.READ)&#10;&#9;if pokedex_json:&#10;&#9;&#9;var data = pokedex_json.get_as_text()&#10;&#9;&#9;var pokemons_db_local = []&#10;&#9;&#9;if data:&#10;&#9;&#9;&#9;pokemons_db_local = JSON.parse_string(data)&#10;&#9;&#9;if typeof(pokemons_db_local) == TYPE_ARRAY:&#10;&#9;&#9;&#9;pokemons_db_local.sort_custom(func(a, b): return int(a[&quot;id&quot;]) &lt; int(b[&quot;id&quot;]))&#10;&#9;&#9;&#9;for poke in pokemons_db_local:&#10;&#9;&#9;&#9;&#9;if int(poke.get(&quot;atrapado&quot;, 0)) == 1:&#10;&#9;&#9;&#9;&#9;&#9;var tarjeta_escena = load(&quot;res://SCENE/PokemonCard.tscn&quot;)&#10;&#9;&#9;&#9;&#9;&#9;if tarjeta_escena:&#10;&#9;&#9;&#9;&#9;&#9;&#9;var tarjeta = tarjeta_escena.instantiate()&#10;&#9;&#9;&#9;&#9;&#9;&#9;var imagen_path = poke.get(&quot;img_link&quot;, &quot;&quot;)&#10;&#9;&#9;&#9;&#9;&#9;&#9;var ps = int(poke.get(&quot;ps_actual&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var ps_max = int(poke.get(&quot;ps_max&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var exp = int(poke.get(&quot;exp_actual&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var exp_max = int(poke.get(&quot;exp_evo&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;var atrapado = int(poke.get(&quot;atrapado&quot;, 0))&#10;&#9;&#9;&#9;&#9;&#9;&#9;tarjeta.call_deferred(&quot;configurar&quot;, imagen_path, ps, ps_max, exp, exp_max, atrapado)&#10;&#9;&#9;&#9;&#9;&#9;&#9;grid_pc.add_child(tarjeta)&#10;&#9;else:&#10;&#9;&#9;print(&quot;No se pudo abrir el archivo POKEMON_DB.json&quot;)&#10;&#10;func mostrar_confirmacion(id_pokemon, nombre_pokemon):&#10;&#9;id_pokemon_seleccionado = id_pokemon&#10;&#9;nombre_pokemon_seleccionado = nombre_pokemon&#10;&#9;confirmacion.dialog_text = &quot;¿CAPTURASTE A %s?&quot; % nombre_pokemon&#10;&#9;if not confirmacion.visible:&#10;&#9;&#9;confirmacion.popup_centered()&#10;&#10;func _on_confirmation_dialog_confirmed():&#10;&#9;# Buscar el Pokémon en la base de datos y marcarlo como atrapado usando el id&#10;&#9;for poke in pokemons_db:&#10;&#9;&#9;if poke.get(&quot;id&quot;, &quot;&quot;) == id_pokemon_seleccionado:&#10;&#9;&#9;&#9;poke[&quot;atrapado&quot;] = 1&#10;&#9;&#9;&#9;break&#10;&#9;# Guardar el JSON actualizado (usando JSON.stringify para formato correcto)&#10;&#9;if typeof(pokemons_db) == TYPE_ARRAY:&#10;&#9;&#9;var file = FileAccess.open(&quot;res://SCRIPT/POKEMON_DB.json&quot;, FileAccess.WRITE)&#10;&#9;&#9;if file:&#10;&#9;&#9;&#9;file.store_string(JSON.stringify(pokemons_db))&#10;&#9;else:&#10;&#9;&#9;print(&quot;Error: pokemons_db no es un array válido&quot;)&#10;&#9;# Refrescar la grilla para mostrar el sello&#10;&#9;mostrar_tarjetas_captura()" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SCRIPT/PokemonCard.gd">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SCRIPT/PokemonCard.gd" />
              <option name="originalContent" value="extends VBoxContainer&#10;&#10;# Referencias a los nodos hijos A&#10;@onready var imagen = $TextureRect&#10;@onready var barra_ps = $BARRAS/SALUD/ProgressBar&#10;@onready var barra_exp = $BARRAS/EXPERIENCIA/ProgressBar&#10;# Función para configurar la tarjeta con los datos del Pokémon&#10;func configurar(ruta_imagen: String, ps_actual: int, ps_maximo: int, exp_actual: int, exp_maximo: int):&#10;func configurar(ruta_imagen: String, ps_actual: int, ps_maximo: int, exp_actual: int, exp_maximo: int):&#10;&#9;if imagen and ResourceLoader.exists(ruta_imagen):&#10;&#9;if imagen and ResourceLoader.exists(ruta_imagen):&#10;&#9;&#9;var textura = load(ruta_imagen)&#10;&#9;&#9;if typeof(textura) == TYPE_OBJECT and textura is Texture2D:&#10;&#9;&#9;&#9;imagen.texture = textura&#10;&#9;&#9;else:&#10;&#9;&#9;&#9;imagen.texture = null&#10;&#9;else:&#10;&#9;&#9;imagen.texture = null&#10;&#9;# Configurar barra de PS&#10;&#9;if barra_ps:&#10;&#9;&#9;barra_ps.max_value = ps_maximo&#10;&#9;&#9;barra_ps.value = ps_actual&#10;&#10;func _ready():&#10;&#9;# Habilitar la detección de clics en la tarjeta&#10;&#10;" />
              <option name="updatedContent" value="extends VBoxContainer&#10;&#10;# Referencias a los nodos hijos A&#10;@onready var imagen = $ImagenContainer/TextureRect&#10;@onready var barra_ps = $BARRAS/SALUD/ProgressBar&#10;@onready var barra_exp = $BARRAS/EXPERIENCIA/ProgressBar&#10;@onready var sello = $ImagenContainer/SELLO&#10;&#10;# Señal para detectar el click en la tarjeta&#10;signal tarjeta_presionada&#10;&#10;# Función para configurar la tarjeta con los datos del Pokémon&#10;func configurar(ruta_imagen: String, ps_actual: int, ps_maximo: int, exp_actual: int, exp_maximo: int, atrapado := 0):&#10;&#9;# Cargar y asignar la imagen solo si el nodo existe y el recurso es válido&#10;&#9;if imagen and ResourceLoader.exists(ruta_imagen):&#10;&#9;&#9;var textura = load(ruta_imagen)&#10;&#9;&#9;if typeof(textura) == TYPE_OBJECT and textura is Texture2D:&#10;&#9;&#9;&#9;imagen.texture = textura&#10;&#9;&#9;else:&#10;&#9;&#9;&#9;imagen.texture = null&#10;&#9;else:&#10;&#9;&#9;imagen.texture = null&#10;&#9;# Configurar barra de PS&#10;&#9;if barra_ps:&#10;&#9;&#9;barra_ps.max_value = ps_maximo&#10;&#9;&#9;barra_ps.value = ps_actual&#10;&#9;# Configurar barra de EXP&#10;&#9;if barra_exp:&#10;&#9;&#9;barra_exp.max_value = exp_maximo&#10;&#9;&#9;barra_exp.value = exp_actual&#10;&#9;# Mostrar el sello si está atrapado&#10;&#9;if sello:&#10;&#9;&#9;sello.visible = atrapado == 1&#10;&#10;func _ready():&#10;&#9;# Habilitar la detección de clics en la tarjeta&#10;&#9;self.mouse_filter = Control.MOUSE_FILTER_PASS&#10;&#9;connect(&quot;gui_input&quot;, Callable(self, &quot;_on_gui_input&quot;))&#10;&#10;func _on_gui_input(event):&#10;&#9;if event is InputEventMouseButton and event.pressed and event.button_index == MOUSE_BUTTON_LEFT:&#10;&#9;&#9;emit_signal(&quot;tarjeta_presionada&quot;)" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>